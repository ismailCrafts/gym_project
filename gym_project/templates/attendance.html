{% extends 'base.html' %}

{% block title %}Attendance{% endblock %}

{% block head %}
<h1>Attendance Form</h1>

<div class="container mt-2">
  <div class="row">
    <div class="col-md-3"></div>  {# Left spacing #}

    <div class="col-md-6">
      {# ------------------ Display messages ------------------ #}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}

      {# ------------------ Attendance Form ------------------ #}
      <form action="/attendance/" method="post">
        {% csrf_token %}

        {# User ID (readonly) #}
        <div class="form-group">
          <label for="PhoneNumber" class="text-white">Your ID</label>
          <input
            type="text"
            class="form-control mt-2"
            value="{{ user.username }}"
            name="PhoneNumber"
            id="PhoneNumber"
            readonly
            required
          />
        </div>

        {# Workout selection #}
        <div class="form-group">
          <label for="workout" class="text-white">Workout</label>
          <select class="form-control mt-2" id="workout" name="workout" required>
            <option selected>Select Workout</option>
            <option value="Biceps">Biceps</option>
            <option value="Triceps">Triceps</option>
            <option value="Shoulders">Shoulders</option>
            <option value="Chest">Chest</option>
            <option value="ABS">ABS</option>
            <option value="Back">Back</option>
            <option value="Warm Up">Warm Up</option>
            <option value="Treadmill">Treadmill</option>
          </select>
        </div>

        {# Starting time #}
        <div class="form-group">
          <label for="logintime" class="text-white">Starting Time</label>
          <input
            type="time"
            class="form-control mt-2"
            name="starting_time"
            id="logintime"
            required
          />
        </div>

        {# Ending time #}
        <div class="form-group">
          <label for="loginout" class="text-white">Ending Time</label>
          <input
            type="time"
            class="form-control mt-2"
            name="ending_time"
            id="loginout"
            required
          />
        </div>

        {# Trainer selection #}
        <div class="form-group">
          <label for="trainer" class="text-white">Select Trainer</label>
          <select class="form-control mt-2" id="trainer" name="trainer" required>
            <option selected>Select Trainer</option>
            {% for p in SelectTrainer %}
              <option value="{{ p.name }}">{{ p.name }}</option>
            {% endfor %}
          </select>
        </div>

        {# Submit button #}
        <br />
        <div class="d-grid gap-2">
          <button class="btn btn-warning" type="submit">Apply Attendance</button>
        </div>
      </form>
    </div>

    <div class="col-md-3"></div>  {# Right spacing #}
  </div>
</div>
{% endblock %}
